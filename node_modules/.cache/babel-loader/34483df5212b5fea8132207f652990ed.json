{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\blitz\\\\src\\\\Pages\\\\Dashboard\\\\Search\\\\leftColumnSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Grid, FormControl, InputLabel, Select, MenuItem, TextField, Button, makeStyles, Checkbox, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%'\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  searchField: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%'\n  },\n  table: {\n    minWidth: 650\n  },\n  filterContainer: {\n    marginBottom: theme.spacing(3)\n  },\n  buttonContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: theme.spacing(2)\n  },\n  csvTable: {\n    width: '100%'\n  }\n}));\nconst LeftColumn = () => {\n  _s();\n  const classes = useStyles();\n  const [filter, setFilter] = useState(\"\");\n  const [region, setRegion] = useState(\"\"); // Default to showing ALL Regions\n  const [platform, setPlatform] = useState(\"TikTok\"); // Default to TikTok Brand, and remove the option for None\n  const [promotionType, setPromotionType] = useState(\"Brand\"); // Assuming you want to start with TikTok Brand\n  const [data, setData] = useState([]);\n  const [race, setRace] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [furtherLocation, setFurtherLocation] = useState(\"\");\n  const [selectedItems, setSelectedItems] = useState(new Set());\n  const [avgViews, setAvgViews] = useState(\"\");\n  const [selectedCreatorsData, setSelectedCreatorsData] = useState([]);\n  const [campaignName, setCampaignName] = useState(\"\");\n  const [campaignBrief, setCampaignBrief] = useState(\"\");\n  const [videoAmount, setVideoAmount] = useState(\"1\");\n  const [campaignType, setCampaignType] = useState(\"\");\n  const [openDialog, setOpenDialog] = useState(false);\n  const [dialogMessage, setDialogMessage] = useState(\"\");\n  const [campaignSum, setCampaignSum] = useState(0);\n  const [idealDueDate, setIdealDueDate] = useState(new Date());\n  const handleResetFilters = () => {\n    setRegion(\"\");\n    setPlatform(\"TikTok\");\n    setPromotionType(\"Brand\");\n    setRace(\"\");\n    setGender(\"\");\n    setFurtherLocation(\"\");\n    setFilter(\"\");\n    setAvgViews(\"\"); // Reset this as well if you're including the AVG Views Filter\n  };\n  useEffect(() => {\n    const sum = calculateTotalCampaignSum();\n    setCampaignSum(sum);\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5100/api/sheets/creatorData/read\");\n        if (!response.ok) throw new Error(\"Network response was not ok\");\n        const jsonData = await response.json();\n        setData(jsonData); // Assuming jsonData is an array of arrays\n      } catch (error) {\n        console.error(\"Failed to fetch data:\", error);\n      }\n    };\n    fetchData();\n  }, [selectedCreatorsData]);\n  const platformIndexMap = {\n    TikTok: 2,\n    // Column 3 in human-readable form, index 2 in zero-based indexing\n    Instagram: 3,\n    // Column 4 in human-readable form, index 3 in zero-based indexing\n    Youtube: 4 // Column 5 in human-readable form, index 4 in zero-based indexing\n  };\n  const priceColumnMap = {\n    TikTok: {\n      Sound: 8,\n      // Column index for TikTok Sound price\n      Brand: 9 // Column index for TikTok Brand price\n    },\n    Instagram: {\n      Sound: 11,\n      // Column index for Instagram Sound price\n      Brand: 12 // Column index for Instagram Brand price\n    }\n  };\n  const handleFilterChange = e => {\n    setFilter(e.target.value.toLowerCase());\n  };\n  const handleRegionChange = e => {\n    setRegion(e.target.value);\n  };\n  const handlePlatformChange = e => {\n    const newPlatform = e.target.value;\n    setPlatform(newPlatform);\n    // Reset promotionType based on the platform selected\n    // Default to the first available promotion type for the new platform\n    setPromotionType(promotionTypeOptions[newPlatform][0]);\n  };\n  // Assuming each row in your data includes a unique identifier at index 0\n  // Assuming the structure of your `data` array and the unique identifier is at index 0\n  const handleSelectItem = uniqueId => {\n    var _priceColumnMap$platf;\n    const newSelection = new Set(selectedItems);\n    const item = filteredData.find(item => item[0] === uniqueId);\n    if (!item) return;\n\n    // Determine the correct column for pricing\n    const priceIndex = ((_priceColumnMap$platf = priceColumnMap[platform]) === null || _priceColumnMap$platf === void 0 ? void 0 : _priceColumnMap$platf[promotionType]) || null;\n    const price = priceIndex ? item[priceIndex] : \"Unknown\";\n    const relevantData = {\n      id: uniqueId,\n      name: item[0],\n      // Assuming name is at index 1\n      price: price,\n      other: item[17] // Assuming some other data is at index 17\n    };\n\n    // Toggle selection logic remains unchanged\n    if (newSelection.has(uniqueId)) {\n      newSelection.delete(uniqueId);\n      setSelectedCreatorsData(prev => prev.filter(creator => creator.id !== uniqueId));\n    } else {\n      newSelection.add(uniqueId);\n      setSelectedCreatorsData(prev => [...prev, relevantData]);\n    }\n    setSelectedItems(newSelection);\n  };\n  const searchFilter = row => {\n    // If there is no filter set, don't filter out this row\n    if (!filter) return true;\n\n    // Assuming columns at index 5, 6, and 7 are the \"viability\" columns\n    const searchColumns = [0, 5, 6, 7];\n    return searchColumns.some(index => {\n      // Ensure that undefined values are not causing an error\n      const value = row[index] ? row[index].toString().toLowerCase() : \"\";\n      return value.toString().toLowerCase().includes(filter);\n    });\n  };\n  const calculateTotalCampaignSum = () => {\n    const sum = selectedCreatorsData.reduce((accumulator, creator) => {\n      // Remove any non-numeric characters (including the dollar sign) before conversion\n      const cleanedPriceString = creator.price.replace(/[^0-9.-]+/g, \"\");\n      const price = parseFloat(cleanedPriceString);\n      // Check if the conversion was successful (i.e., the result is a finite number)\n      if (isFinite(price)) {\n        return accumulator + price;\n      } else {\n        console.error(`Invalid price format detected: ${creator.price}`);\n        return accumulator;\n      }\n    }, 0);\n    return sum;\n  };\n  // Function to generate a unique campaign ID\n  const generateCampaignID = () => new Date().getTime().toString();\n  // Before creating the campaignData object\n  const parsedVideoAmount = parseInt(videoAmount, 10); // Ensure videoAmount is an integer\n  const today = new Date().toISOString().slice(0, 10);\n\n  // Function to create campaign data object\n  const createCampaignData = () => {\n    return {\n      id: generateCampaignID(),\n      name: campaignName,\n      brief: campaignBrief,\n      videoAmount: parsedVideoAmount,\n      campaignType: campaignType,\n      creators: Array.from(selectedCreatorsData),\n      userID: \"your-mock-user-id\",\n      proposalDate: today,\n      campaign_sum: campaignSum,\n      // Add the campaign sum here\n      idealDueDate: idealDueDate // Format the date as YYYY-MM-DD\n    };\n  };\n\n  // Function to handle creating a new campaign\n  const handleCreateCampaign = async () => {\n    console.log(\"Creating campaign...\"); // Initial log to confirm the function is called\n    const campaignData = createCampaignData();\n    try {\n      console.log(\"Sending data to server:\", campaignData); // Log the data being sent\n      const response = await fetch(\"http://localhost:5000/api/campaigns\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(campaignData)\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to save campaign: ${response.status}`);\n      }\n      const responseData = await response.json();\n      console.log(\"Campaign saved successfully:\", responseData);\n      setDialogMessage(\"Campaign created successfully!\");\n      setOpenDialog(true);\n      setSelectedItems(new Set());\n      setCampaignName(\"\");\n      setCampaignBrief(\"\");\n    } catch (error) {\n      console.error(\"Error saving campaign:\", error);\n      setDialogMessage(`Error: ${error.message}`);\n      setOpenDialog(true);\n    }\n  };\n  const handlePromotionTypeChange = e => {\n    setPromotionType(e.target.value);\n  };\n  const getColumnWidth = index => {\n    // Define custom widths for specific columns by their index or header name\n    const customWidths = {\n      0: \"50px\",\n      // Example: Column for checkboxes might be narrower\n      1: \"150px\" // Adjust width for the second column\n      // Add more custom widths as needed\n      // You can also use headers[index] to set widths by header name if preferable\n    };\n\n    // Return the custom width if defined, otherwise return a default width\n    return customWidths[index] || \"125px\"; // Default width for columns not explicitly set\n  };\n  const promotionTypeOptions = {\n    TikTok: [\"Sound\", \"Brand\", \"Livestream\"],\n    Instagram: [\"Sound\", \"Brand\", \"Story Set\"],\n    Youtube: [\"30 Second Integration\", \"60 Second Integration\"]\n  };\n  const platformToColumnsMap = {\n    TikTok: [2],\n    // Column 3 in human-readable form\n    Instagram: [3],\n    // Column 4 in human-readable form\n    Youtube: [4] // Column 5 in human-readable form\n  };\n  // ... inside your component where you define platformColumns\n  const alwaysVisibleColumns = [1, 8, 15, 18]; // Columns 9, 16, and 18 in human-readable form\n\n  // Determine which columns to display based on the selected platform and promotion type\n  const columnsToShow = [...alwaysVisibleColumns, ...(platformToColumnsMap[platform] || []), ...(promotionType && platform ? [priceColumnMap[platform][promotionType] + 1] : [])];\n  const headers = data[0] || []; // Fallback to an empty array if data[0] is undefined\n\n  const filteredData = data.filter(row => {\n    var _row$, _row$2, _row$3, _row$4, _row$5;\n    const regionMatch = region ? (_row$ = row[6]) === null || _row$ === void 0 ? void 0 : _row$.toString().toLowerCase().includes(region.toLowerCase()) : true;\n\n    // Ensuring platform has a non-NULL and non-empty value\n    const platformMatch = platform ? !isNaN(row[platformIndexMap[platform]]) && row[platformIndexMap[platform]] !== null && row[platformIndexMap[platform]] !== \"\" : true;\n    let raceMatch = race ? (_row$2 = row[4]) === null || _row$2 === void 0 ? void 0 : _row$2.toString().toLowerCase().includes(race.toLowerCase()) : true;\n    let genderMatch = gender ? (_row$3 = row[4]) === null || _row$3 === void 0 ? void 0 : _row$3.toString().toLowerCase().split(/[\\s,]+/).includes(gender.toLowerCase()) // Assuming gender is in column 6 (index 5)\n    : true;\n    const locationMatch = furtherLocation ? (_row$4 = row[4]) === null || _row$4 === void 0 ? void 0 : _row$4.toString().toLowerCase().includes(furtherLocation.toLowerCase()) : true;\n\n    // Special handling for gender to ensure \"Male\" does not match \"Female\"\n    if (gender === \"male\" && (_row$5 = row[4]) !== null && _row$5 !== void 0 && _row$5.toLowerCase().includes(\"female\")) {\n      genderMatch = false;\n    }\n\n    // Updated to ensure 'Promotion Type' is not NULL or empty if selected\n    const promotionTypeColumnIndex = promotionType && platform ? priceColumnMap[platform][promotionType] : null;\n    const promotionTypeMatch = promotionTypeColumnIndex !== null ? row[promotionTypeColumnIndex] !== null && row[promotionTypeColumnIndex] !== \"\" : true;\n    return regionMatch && platformMatch && raceMatch && genderMatch && locationMatch && promotionTypeMatch && searchFilter(row);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        className: classes.filterContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.content,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 5,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                className: classes.filterContainer,\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [\" \", /*#__PURE__*/_jsxDEV(FormControl, {\n                    variant: \"outlined\",\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"region-select-label\",\n                      children: \"Select Region\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"region-select-label\",\n                      id: \"region-select\",\n                      value: region,\n                      onChange: handleRegionChange,\n                      label: \"Select Region\",\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        children: /*#__PURE__*/_jsxDEV(\"em\", {\n                          children: \"ALL\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 368,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"NACAUKAUS\",\n                        children: \"NACAUKAUS\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"EU\",\n                        children: \"EU\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"LATAM\",\n                        children: \"LATAM\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Asia\",\n                        children: \"Asia\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 373,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    variant: \"outlined\",\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"platform-select-label\",\n                      children: \"Platform\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"platform-select-label\",\n                      id: \"platform-select\",\n                      value: platform,\n                      onChange: handlePlatformChange,\n                      label: \"Platform\",\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"TikTok\",\n                        children: \"TikTok\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Instagram\",\n                        children: \"Instagram\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    variant: \"outlined\",\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"promotion-type-label\",\n                      children: \"Promotion Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"promotion-type-label\",\n                      id: \"promotion-type-select\",\n                      value: promotionType,\n                      onChange: handlePromotionTypeChange,\n                      label: \"Promotion Type\",\n                      children: platform && promotionTypeOptions[platform].map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: type,\n                        children: type\n                      }, type, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 27\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    variant: \"outlined\",\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"race-select-label\",\n                      children: \"Race\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"race-select-label\",\n                      id: \"race-select\",\n                      value: race,\n                      onChange: e => setRace(e.target.value),\n                      label: \"Race\",\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        children: /*#__PURE__*/_jsxDEV(\"em\", {\n                          children: \"None\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 435,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 434,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Asian\",\n                        children: \"Asian\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 437,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Black\",\n                        children: \"Black\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 438,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Hispanic\",\n                        children: \"Hispanic\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"White\",\n                        children: \"White\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Other\",\n                        children: \"Other\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 441,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    variant: \"outlined\",\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"gender-select-label\",\n                      children: \"Gender\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"gender-select-label\",\n                      id: \"gender-select\",\n                      value: gender,\n                      onChange: e => setGender(e.target.value),\n                      label: \"Gender\",\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        children: /*#__PURE__*/_jsxDEV(\"em\", {\n                          children: \"None\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 458,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Male\",\n                        children: \"Male\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 460,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Female\",\n                        children: \"Female\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 461,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Other\",\n                        children: \"Other\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 462,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                    variant: \"outlined\",\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"further-location-select-label\",\n                      children: \"Location\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"further-location-select-label\",\n                      id: \"further-location-select\",\n                      value: furtherLocation,\n                      onChange: e => setFurtherLocation(e.target.value),\n                      label: \"Further Location\",\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        children: /*#__PURE__*/_jsxDEV(\"em\", {\n                          children: \"None\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 481,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"US\",\n                        children: \"US\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 483,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"UK\",\n                        children: \"UK\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 484,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"Canada\",\n                        children: \"Canada\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 485,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 5,\n                    md: 3,\n                    container: true,\n                    spacing: 2,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      variant: \"outlined\",\n                      className: classes.formControl,\n                      fullWidth: true,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        id: \"avg-views-select-label\",\n                        children: \"AVG Views\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        labelId: \"avg-views-select-label\",\n                        id: \"avg-views-select\",\n                        value: avgViews,\n                        onChange: e => setAvgViews(e.target.value),\n                        label: \"AVG Views\",\n                        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"\",\n                          children: /*#__PURE__*/_jsxDEV(\"em\", {\n                            children: \"None\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 507,\n                            columnNumber: 27\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 506,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"10-50000\",\n                          children: \"10-50,000\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 509,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"50000-100000\",\n                          children: \"50,000-100,000\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 510,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"100000+\",\n                          children: \"100,000+\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 511,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 498,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    md: 7,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"search-field\",\n                      label: \"Search\",\n                      variant: \"outlined\",\n                      size: \"small\",\n                      fullWidth: true,\n                      className: classes.searchField,\n                      value: filter,\n                      onChange: handleFilterChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.buttonContainer,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  className: classes.button,\n                  variant: \"contained\",\n                  color: \"primary\",\n                  onClick: handleResetFilters,\n                  children: \"Reset Filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleResetFilters,\n          className: classes.button,\n          fullWidth: true,\n          children: \"Reset Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.csvSection,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"csvTable\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 19\n                }, this), headers.map((header, index) => columnsToShow.includes(index + 1) && /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    width: getColumnWidth(index)\n                  },\n                  children: header\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 25\n                }, this) // Apply dynamic width based on column index\n                )]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredData.map((row, idx) => {\n                if (!row) return null; // Ensure row is not undefined\n\n                const isSelected = selectedItems.has(row[0]); // Check if the row is selected\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    backgroundColor: isSelected ? \"lightgreen\" : \"transparent\"\n                  } // Highlight selected rows\n                  ,\n                  onClick: () => handleSelectItem(row[0]) // Add row click handler\n                  ,\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      checked: isSelected,\n                      onChange: e => {\n                        e.stopPropagation(); // Prevent row click event from firing\n                        handleSelectItem(row[0]);\n                      },\n                      color: \"primary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 598,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 23\n                  }, this), row.map((value, index) => columnsToShow.includes(index + 1) ? /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      width: getColumnWidth(index)\n                    },\n                    children: index === 14 ? /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: value,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      children: value\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 614,\n                      columnNumber: 31\n                    }, this) : value !== null && value !== void 0 ? value : \"N/A\"\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 27\n                  }, this) : null)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 343,\n    columnNumber: 5\n  }, this);\n};\n_s(LeftColumn, \"wyWHkrIn79ryHBZlMH4GpoxvNuM=\", false, function () {\n  return [useStyles];\n});\n_c = LeftColumn;\nexport default LeftColumn;\nvar _c;\n$RefreshReg$(_c, \"LeftColumn\");","map":{"version":3,"names":["React","useState","useEffect","Grid","FormControl","InputLabel","Select","MenuItem","TextField","Button","makeStyles","Checkbox","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","jsxDEV","_jsxDEV","useStyles","theme","formControl","margin","spacing","minWidth","width","selectEmpty","marginTop","button","searchField","table","filterContainer","marginBottom","buttonContainer","display","justifyContent","padding","csvTable","LeftColumn","_s","classes","filter","setFilter","region","setRegion","platform","setPlatform","promotionType","setPromotionType","data","setData","race","setRace","gender","setGender","furtherLocation","setFurtherLocation","selectedItems","setSelectedItems","Set","avgViews","setAvgViews","selectedCreatorsData","setSelectedCreatorsData","campaignName","setCampaignName","campaignBrief","setCampaignBrief","videoAmount","setVideoAmount","campaignType","setCampaignType","openDialog","setOpenDialog","dialogMessage","setDialogMessage","campaignSum","setCampaignSum","idealDueDate","setIdealDueDate","Date","handleResetFilters","sum","calculateTotalCampaignSum","fetchData","response","fetch","ok","Error","jsonData","json","error","console","platformIndexMap","TikTok","Instagram","Youtube","priceColumnMap","Sound","Brand","handleFilterChange","e","target","value","toLowerCase","handleRegionChange","handlePlatformChange","newPlatform","promotionTypeOptions","handleSelectItem","uniqueId","_priceColumnMap$platf","newSelection","item","filteredData","find","priceIndex","price","relevantData","id","name","other","has","delete","prev","creator","add","searchFilter","row","searchColumns","some","index","toString","includes","reduce","accumulator","cleanedPriceString","replace","parseFloat","isFinite","generateCampaignID","getTime","parsedVideoAmount","parseInt","today","toISOString","slice","createCampaignData","brief","creators","Array","from","userID","proposalDate","campaign_sum","handleCreateCampaign","log","campaignData","method","headers","body","JSON","stringify","status","responseData","message","handlePromotionTypeChange","getColumnWidth","customWidths","platformToColumnsMap","alwaysVisibleColumns","columnsToShow","_row$","_row$2","_row$3","_row$4","_row$5","regionMatch","platformMatch","isNaN","raceMatch","genderMatch","split","locationMatch","promotionTypeColumnIndex","promotionTypeMatch","children","container","xs","className","content","md","variant","fileName","_jsxFileName","lineNumber","columnNumber","labelId","onChange","label","map","type","sm","fullWidth","size","color","onClick","csvSection","elevation","header","style","idx","isSelected","backgroundColor","checked","stopPropagation","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/HP/Documents/GitHub/blitz/src/Pages/Dashboard/Search/leftColumnSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  TextField,\r\n  Button,\r\n  makeStyles,\r\n  Checkbox,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  searchField: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    width: '100%',\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  filterContainer: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  buttonContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    padding: theme.spacing(2),\r\n  },\r\n  csvTable: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nconst LeftColumn = () => {\r\n    const classes = useStyles();\r\n    const [filter, setFilter] = useState(\"\");\r\n    const [region, setRegion] = useState(\"\"); // Default to showing ALL Regions\r\n    const [platform, setPlatform] = useState(\"TikTok\"); // Default to TikTok Brand, and remove the option for None\r\n    const [promotionType, setPromotionType] = useState(\"Brand\"); // Assuming you want to start with TikTok Brand\r\n    const [data, setData] = useState([]);\r\n    const [race, setRace] = useState(\"\");\r\n    const [gender, setGender] = useState(\"\");\r\n    const [furtherLocation, setFurtherLocation] = useState(\"\");\r\n    const [selectedItems, setSelectedItems] = useState(new Set());\r\n    const [avgViews, setAvgViews] = useState(\"\");\r\n    const [selectedCreatorsData, setSelectedCreatorsData] = useState([]);\r\n    const [campaignName, setCampaignName] = useState(\"\");\r\n    const [campaignBrief, setCampaignBrief] = useState(\"\");\r\n    const [videoAmount, setVideoAmount] = useState(\"1\");\r\n    const [campaignType, setCampaignType] = useState(\"\");\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const [dialogMessage, setDialogMessage] = useState(\"\");\r\n    const [campaignSum, setCampaignSum] = useState(0);\r\n    const [idealDueDate, setIdealDueDate] = useState(new Date());\r\n  \r\n    const handleResetFilters = () => {\r\n      setRegion(\"\");\r\n      setPlatform(\"TikTok\");\r\n      setPromotionType(\"Brand\");\r\n      setRace(\"\");\r\n      setGender(\"\");\r\n      setFurtherLocation(\"\");\r\n      setFilter(\"\");\r\n      setAvgViews(\"\"); // Reset this as well if you're including the AVG Views Filter\r\n    };\r\n    useEffect(() => {\r\n      const sum = calculateTotalCampaignSum();\r\n      setCampaignSum(sum);\r\n      const fetchData = async () => {\r\n        try {\r\n          const response = await fetch(\r\n            \"http://localhost:5100/api/sheets/creatorData/read\",\r\n          );\r\n          if (!response.ok) throw new Error(\"Network response was not ok\");\r\n          const jsonData = await response.json();\r\n          setData(jsonData); // Assuming jsonData is an array of arrays\r\n        } catch (error) {\r\n          console.error(\"Failed to fetch data:\", error);\r\n        }\r\n      };\r\n      fetchData();\r\n    }, [selectedCreatorsData]);\r\n    const platformIndexMap = {\r\n      TikTok: 2, // Column 3 in human-readable form, index 2 in zero-based indexing\r\n      Instagram: 3, // Column 4 in human-readable form, index 3 in zero-based indexing\r\n      Youtube: 4, // Column 5 in human-readable form, index 4 in zero-based indexing\r\n    };\r\n  \r\n    const priceColumnMap = {\r\n      TikTok: {\r\n        Sound: 8, // Column index for TikTok Sound price\r\n        Brand: 9, // Column index for TikTok Brand price\r\n      },\r\n      Instagram: {\r\n        Sound: 11, // Column index for Instagram Sound price\r\n        Brand: 12, // Column index for Instagram Brand price\r\n      },\r\n    };\r\n    const handleFilterChange = (e) => {\r\n      setFilter(e.target.value.toLowerCase());\r\n    };\r\n  \r\n    const handleRegionChange = (e) => {\r\n      setRegion(e.target.value);\r\n    };\r\n  \r\n    const handlePlatformChange = (e) => {\r\n      const newPlatform = e.target.value;\r\n      setPlatform(newPlatform);\r\n      // Reset promotionType based on the platform selected\r\n      // Default to the first available promotion type for the new platform\r\n      setPromotionType(promotionTypeOptions[newPlatform][0]);\r\n    };\r\n    // Assuming each row in your data includes a unique identifier at index 0\r\n    // Assuming the structure of your `data` array and the unique identifier is at index 0\r\n    const handleSelectItem = (uniqueId) => {\r\n      const newSelection = new Set(selectedItems);\r\n      const item = filteredData.find((item) => item[0] === uniqueId);\r\n      if (!item) return;\r\n  \r\n      // Determine the correct column for pricing\r\n      const priceIndex = priceColumnMap[platform]?.[promotionType] || null;\r\n      const price = priceIndex ? item[priceIndex] : \"Unknown\";\r\n  \r\n      const relevantData = {\r\n        id: uniqueId,\r\n        name: item[0], // Assuming name is at index 1\r\n        price: price,\r\n        other: item[17], // Assuming some other data is at index 17\r\n      };\r\n  \r\n      // Toggle selection logic remains unchanged\r\n      if (newSelection.has(uniqueId)) {\r\n        newSelection.delete(uniqueId);\r\n        setSelectedCreatorsData((prev) =>\r\n          prev.filter((creator) => creator.id !== uniqueId),\r\n        );\r\n      } else {\r\n        newSelection.add(uniqueId);\r\n        setSelectedCreatorsData((prev) => [...prev, relevantData]);\r\n      }\r\n  \r\n      setSelectedItems(newSelection);\r\n    };\r\n    const searchFilter = (row) => {\r\n      // If there is no filter set, don't filter out this row\r\n      if (!filter) return true;\r\n  \r\n      // Assuming columns at index 5, 6, and 7 are the \"viability\" columns\r\n      const searchColumns = [0, 5, 6, 7];\r\n      return searchColumns.some((index) => {\r\n        // Ensure that undefined values are not causing an error\r\n        const value = row[index] ? row[index].toString().toLowerCase() : \"\";\r\n        return value.toString().toLowerCase().includes(filter);\r\n      });\r\n    };\r\n    const calculateTotalCampaignSum = () => {\r\n      const sum = selectedCreatorsData.reduce((accumulator, creator) => {\r\n        // Remove any non-numeric characters (including the dollar sign) before conversion\r\n        const cleanedPriceString = creator.price.replace(/[^0-9.-]+/g, \"\");\r\n        const price = parseFloat(cleanedPriceString);\r\n        // Check if the conversion was successful (i.e., the result is a finite number)\r\n        if (isFinite(price)) {\r\n          return accumulator + price;\r\n        } else {\r\n          console.error(`Invalid price format detected: ${creator.price}`);\r\n          return accumulator;\r\n        }\r\n      }, 0);\r\n      return sum;\r\n    };\r\n    // Function to generate a unique campaign ID\r\n    const generateCampaignID = () => new Date().getTime().toString();\r\n    // Before creating the campaignData object\r\n    const parsedVideoAmount = parseInt(videoAmount, 10); // Ensure videoAmount is an integer\r\n    const today = new Date().toISOString().slice(0, 10);\r\n  \r\n    // Function to create campaign data object\r\n    const createCampaignData = () => {\r\n      return {\r\n        id: generateCampaignID(),\r\n        name: campaignName,\r\n        brief: campaignBrief,\r\n        videoAmount: parsedVideoAmount,\r\n        campaignType: campaignType,\r\n        creators: Array.from(selectedCreatorsData),\r\n        userID: \"your-mock-user-id\",\r\n        proposalDate: today,\r\n        campaign_sum: campaignSum, // Add the campaign sum here\r\n        idealDueDate: idealDueDate, // Format the date as YYYY-MM-DD\r\n  \r\n      };\r\n    };\r\n  \r\n    // Function to handle creating a new campaign\r\n    const handleCreateCampaign = async () => {\r\n      console.log(\"Creating campaign...\"); // Initial log to confirm the function is called\r\n      const campaignData = createCampaignData();\r\n      try {\r\n        console.log(\"Sending data to server:\", campaignData); // Log the data being sent\r\n        const response = await fetch(\"http://localhost:5000/api/campaigns\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(campaignData),\r\n        });\r\n  \r\n        if (!response.ok) {\r\n          throw new Error(`Failed to save campaign: ${response.status}`);\r\n        }\r\n  \r\n        const responseData = await response.json();\r\n        console.log(\"Campaign saved successfully:\", responseData);\r\n  \r\n        setDialogMessage(\"Campaign created successfully!\");\r\n        setOpenDialog(true);\r\n  \r\n        setSelectedItems(new Set());\r\n        setCampaignName(\"\");\r\n        setCampaignBrief(\"\");\r\n      } catch (error) {\r\n        console.error(\"Error saving campaign:\", error);\r\n        setDialogMessage(`Error: ${error.message}`);\r\n        setOpenDialog(true);\r\n      }\r\n    };\r\n  \r\n    const handlePromotionTypeChange = (e) => {\r\n      setPromotionType(e.target.value);\r\n    };\r\n    const getColumnWidth = (index) => {\r\n      // Define custom widths for specific columns by their index or header name\r\n      const customWidths = {\r\n        0: \"50px\", // Example: Column for checkboxes might be narrower\r\n        1: \"150px\", // Adjust width for the second column\r\n        // Add more custom widths as needed\r\n        // You can also use headers[index] to set widths by header name if preferable\r\n      };\r\n  \r\n      // Return the custom width if defined, otherwise return a default width\r\n      return customWidths[index] || \"125px\"; // Default width for columns not explicitly set\r\n    };\r\n    const promotionTypeOptions = {\r\n      TikTok: [\"Sound\", \"Brand\", \"Livestream\"],\r\n      Instagram: [\"Sound\", \"Brand\", \"Story Set\"],\r\n      Youtube: [\"30 Second Integration\", \"60 Second Integration\"],\r\n    };\r\n    const platformToColumnsMap = {\r\n      TikTok: [2], // Column 3 in human-readable form\r\n      Instagram: [3], // Column 4 in human-readable form\r\n      Youtube: [4], // Column 5 in human-readable form\r\n    };\r\n    // ... inside your component where you define platformColumns\r\n    const alwaysVisibleColumns = [1, 8, 15, 18]; // Columns 9, 16, and 18 in human-readable form\r\n  \r\n    // Determine which columns to display based on the selected platform and promotion type\r\n    const columnsToShow = [\r\n      ...alwaysVisibleColumns,\r\n      ...(platformToColumnsMap[platform] || []),\r\n      ...(promotionType && platform\r\n        ? [priceColumnMap[platform][promotionType] + 1]\r\n        : []),\r\n    ];\r\n  \r\n    const headers = data[0] || []; // Fallback to an empty array if data[0] is undefined\r\n  \r\n    const filteredData = data.filter((row) => {\r\n      const regionMatch = region\r\n        ? row[6]?.toString().toLowerCase().includes(region.toLowerCase())\r\n        : true;\r\n  \r\n      // Ensuring platform has a non-NULL and non-empty value\r\n      const platformMatch = platform\r\n        ? !isNaN(row[platformIndexMap[platform]]) &&\r\n          row[platformIndexMap[platform]] !== null &&\r\n          row[platformIndexMap[platform]] !== \"\"\r\n        : true;\r\n  \r\n      let raceMatch = race\r\n        ? row[4]?.toString().toLowerCase().includes(race.toLowerCase())\r\n        : true;\r\n      let genderMatch = gender\r\n        ? row[4]\r\n            ?.toString()\r\n            .toLowerCase()\r\n            .split(/[\\s,]+/)\r\n            .includes(gender.toLowerCase()) // Assuming gender is in column 6 (index 5)\r\n        : true;\r\n  \r\n      const locationMatch = furtherLocation\r\n        ? row[4]?.toString().toLowerCase().includes(furtherLocation.toLowerCase())\r\n        : true;\r\n  \r\n      // Special handling for gender to ensure \"Male\" does not match \"Female\"\r\n      if (gender === \"male\" && row[4]?.toLowerCase().includes(\"female\")) {\r\n        genderMatch = false;\r\n      }\r\n  \r\n      // Updated to ensure 'Promotion Type' is not NULL or empty if selected\r\n      const promotionTypeColumnIndex =\r\n        promotionType && platform\r\n          ? priceColumnMap[platform][promotionType]\r\n          : null;\r\n      const promotionTypeMatch =\r\n        promotionTypeColumnIndex !== null\r\n          ? row[promotionTypeColumnIndex] !== null &&\r\n            row[promotionTypeColumnIndex] !== \"\"\r\n          : true;\r\n  \r\n      return (\r\n        regionMatch &&\r\n        platformMatch &&\r\n        raceMatch &&\r\n        genderMatch &&\r\n        locationMatch &&\r\n        promotionTypeMatch &&\r\n        searchFilter(row)\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} className={classes.filterContainer}>\r\n        <div className={classes.content}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={5}>\r\n              {/* Filters container */}\r\n              <Grid container spacing={2} className={classes.filterContainer}>\r\n                <Grid container spacing={2}>\r\n                  {/* Adjust the spacing as needed */} {/* Region Dropdown */}\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel id=\"region-select-label\">\r\n                      Select Region\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId=\"region-select-label\"\r\n                      id=\"region-select\"\r\n                      value={region}\r\n                      onChange={handleRegionChange}\r\n                      label=\"Select Region\"\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em>ALL</em>\r\n                      </MenuItem>\r\n                      <MenuItem value=\"NACAUKAUS\">NACAUKAUS</MenuItem>\r\n                      <MenuItem value=\"EU\">EU</MenuItem>\r\n                      <MenuItem value=\"LATAM\">LATAM</MenuItem>\r\n                      <MenuItem value=\"Asia\">Asia</MenuItem>\r\n\r\n                      {/* More regions */}\r\n                    </Select>\r\n                  </FormControl>\r\n                  {/* Platform Dropdown */}\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel id=\"platform-select-label\">Platform</InputLabel>\r\n                    <Select\r\n                      labelId=\"platform-select-label\"\r\n                      id=\"platform-select\"\r\n                      value={platform}\r\n                      onChange={handlePlatformChange}\r\n                      label=\"Platform\"\r\n                    >\r\n                      <MenuItem value=\"TikTok\">TikTok</MenuItem>\r\n                      <MenuItem value=\"Instagram\">Instagram</MenuItem>\r\n                      {/*  <MenuItem value=\"Youtube\">Youtube</MenuItem> */}\r\n\r\n                      {/* More platforms */}\r\n                    </Select>\r\n                  </FormControl>\r\n                  {/* Promotion Type Dropdown */}\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel id=\"promotion-type-label\">\r\n                      Promotion Type\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId=\"promotion-type-label\"\r\n                      id=\"promotion-type-select\"\r\n                      value={promotionType}\r\n                      onChange={handlePromotionTypeChange}\r\n                      label=\"Promotion Type\"\r\n                    >\r\n                      {platform &&\r\n                        promotionTypeOptions[platform].map((type) => (\r\n                          <MenuItem key={type} value={type}>\r\n                            {type}\r\n                          </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                  {/* Race Dropdown */}\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel id=\"race-select-label\">Race</InputLabel>\r\n                    <Select\r\n                      labelId=\"race-select-label\"\r\n                      id=\"race-select\"\r\n                      value={race}\r\n                      onChange={(e) => setRace(e.target.value)}\r\n                      label=\"Race\"\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em>None</em>\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Asian\">Asian</MenuItem>\r\n                      <MenuItem value=\"Black\">Black</MenuItem>\r\n                      <MenuItem value=\"Hispanic\">Hispanic</MenuItem>\r\n                      <MenuItem value=\"White\">White</MenuItem>\r\n                      <MenuItem value=\"Other\">Other</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  {/* Gender Dropdown */}\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel id=\"gender-select-label\">Gender</InputLabel>\r\n                    <Select\r\n                      labelId=\"gender-select-label\"\r\n                      id=\"gender-select\"\r\n                      value={gender}\r\n                      onChange={(e) => setGender(e.target.value)}\r\n                      label=\"Gender\"\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em>None</em>\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Male\">Male</MenuItem>\r\n                      <MenuItem value=\"Female\">Female</MenuItem>\r\n                      <MenuItem value=\"Other\">Other</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  {/* Further Location Dropdown */}\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                  >\r\n                    <InputLabel id=\"further-location-select-label\">\r\n                      Location\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId=\"further-location-select-label\"\r\n                      id=\"further-location-select\"\r\n                      value={furtherLocation}\r\n                      onChange={(e) => setFurtherLocation(e.target.value)}\r\n                      label=\"Further Location\"\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em>None</em>\r\n                      </MenuItem>\r\n                      <MenuItem value=\"US\">US</MenuItem>\r\n                      <MenuItem value=\"UK\">UK</MenuItem>\r\n                      <MenuItem value=\"Canada\">Canada</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  {/* For the 'Reset Filters' and 'AVG Views Filter' */}\r\n                  <Grid item xs={12} sm={5} md={3} container spacing={2}>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      className={classes.formControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"avg-views-select-label\">\r\n                        AVG Views\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId=\"avg-views-select-label\"\r\n                        id=\"avg-views-select\"\r\n                        value={avgViews}\r\n                        onChange={(e) => setAvgViews(e.target.value)}\r\n                        label=\"AVG Views\"\r\n                      >\r\n                        {/* AVG Views MenuItems */}\r\n                        <MenuItem value=\"\">\r\n                          <em>None</em>\r\n                        </MenuItem>\r\n                        <MenuItem value=\"10-50000\">10-50,000</MenuItem>\r\n                        <MenuItem value=\"50000-100000\">50,000-100,000</MenuItem>\r\n                        <MenuItem value=\"100000+\">100,000+</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6} md={7}>\r\n                    <TextField\r\n                      id=\"search-field\"\r\n                      label=\"Search\"\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      fullWidth\r\n                      className={classes.searchField}\r\n                      value={filter}\r\n                      onChange={handleFilterChange}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              {\" \"}\r\n              {/* Buttons container */}\r\n              <div className={classes.buttonContainer}>\r\n                <Button\r\n                  className={classes.button}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={handleResetFilters}\r\n                >\r\n                  Reset Filters\r\n                </Button>\r\n               \r\n              </div>\r\n              \r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleResetFilters}\r\n            className={classes.button}\r\n            fullWidth\r\n          >\r\n            Reset Filters\r\n          </Button>\r\n        </Grid>\r\n\r\n        <div className={classes.csvSection}>\r\n          {/* CSV Section */}\r\n          <Paper elevation={3}>\r\n            <table className=\"csvTable\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Select</th>\r\n\r\n                  {headers.map(\r\n                    (header, index) =>\r\n                      columnsToShow.includes(index + 1) && (\r\n                        <th\r\n                          key={index}\r\n                          style={{ width: getColumnWidth(index) }}\r\n                        >\r\n                          {header}\r\n                        </th>\r\n                      ), // Apply dynamic width based on column index\r\n                  )}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredData.map((row, idx) => {\r\n                  if (!row) return null; // Ensure row is not undefined\r\n\r\n                  const isSelected = selectedItems.has(row[0]); // Check if the row is selected\r\n                  return (\r\n                    <tr\r\n                      key={idx}\r\n                      style={{\r\n                        backgroundColor: isSelected\r\n                          ? \"lightgreen\"\r\n                          : \"transparent\",\r\n                      }} // Highlight selected rows\r\n                      onClick={() => handleSelectItem(row[0])} // Add row click handler\r\n                    >\r\n                      <td>\r\n                        <Checkbox\r\n                          checked={isSelected}\r\n                          onChange={(e) => {\r\n                            e.stopPropagation(); // Prevent row click event from firing\r\n                            handleSelectItem(row[0]);\r\n                          }}\r\n                          color=\"primary\"\r\n                        />\r\n                      </td>\r\n                      {row.map((value, index) =>\r\n                        columnsToShow.includes(index + 1) ? (\r\n                          <td\r\n                            key={index}\r\n                            style={{ width: getColumnWidth(index) }}\r\n                          >\r\n                            {index === 14 ? (\r\n                              <a\r\n                                href={value}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                              >\r\n                                {value}\r\n                              </a>\r\n                            ) : (\r\n                              value ?? \"N/A\"\r\n                            )}\r\n                          </td>\r\n                        ) : null,\r\n                      )}\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </Paper>\r\n        </div>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftColumn;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}